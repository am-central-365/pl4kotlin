<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Persistence Layer for Kotlin</title>
    <link rel="stylesheet" type="text/css" href="main.css"/>
</head>
<body>
<h2 class="title">Persistence Layer for Kotlin</h2>

<h3>Introduction</h3>
<p>
    <span class="name">pl4kotlin</span> is a library to compose and
    execute simple SQL statements via JDBC. Typical usage is to map a POJO
    object to a single row in a table. The library goal is to reduce
    verbose JDBC call to a one-liner without getting in the way of more
    complex processing.
</p>

<h5>Features</h5>
<p>
    CRUD operations are supported as well as wide variety of JDBC types.
    Transaction control is achieved by supplying
    <a href="https://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html">Connection</a>
    object to <span class="name">run()</span> methods.
</p>

<p>
    The library recognizes multiple ways of specifying columns, recommended one
    being passing reference to the class property. This allows compile-time
    checking and IDE refactorings. Most RDBMS recommend using bind variables
    to avoid expensive re-parsing of SQL statements. Statements generated by
    the library use bind variables and allow specifying them in custom expressions.
</p>

<p>
    A specially treated Optimistic Lock column may be used to ensure consistency
    without holding poorly behaving row locks (pessimistic locking). On request,
    the column is added to <span class="name">WHERE</span> clause to ensure data
    hasn't been changed by another transaction while we were processing the record.
    This is a recognized and efficient practice to deal with concurrency.
</p>

<p>
    Using <span class="name">default</span> expressions and auto-generated column
    values is a good way to offload complexity to the RDBMS, as well as improve
    consistency. For example, using database-side <span class="name">current_timestamp</span>
    or <span class="name">systimestamp</span> ensures protection from unsynchronized
    client-side clocks. <span class="name">fetchback()</span> method instructs the library
    methods to read specified column(s) back after inserting or updating data.
</p>

<h5>Limitations</h5>
<p>
    It is unlikely the library will satisfy all application needs. There is no support
    for joins nor parent-child relations (needless to say, N:M isn't supported too).
    Perhaps the most visible limitation is <span class="name">SelectStatement</span>
    inability to fetch more than a single record (this may be lifted in the future versions
    when support for iterators is added).
</p>

<p>
    The library is not keeping connection or transaction inner state, thus allowing
    to mix it with JDBC calls or calling other libraries.
</p>

</body>
</html>
